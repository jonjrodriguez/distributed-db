// Deadlock extravaganza

begin(T1)
begin(T2)
begin(T3)
w(T1,x1,1); w(T2,x3,2); w(T3,x5,3)
r(T1,x3); r(T2,x5); r(T3,x3)
end(T2)
end(T1)

// T1 should commit; waits on T2
// T2 should commit
// T3 should be killed
// (T1 => T2 <=> T3)

begin(T4)
begin(T5)
begin(T6)
w(T4,x1,1); w(T5,x3,2); w(T6,x5,3)
r(T4,x5); r(T5,x1); r(T6,x3)
end(T4)
end(T5)

// T4 should commit
// T5 should commit
// T6 should be killed
// (T4 => T6 => T5 => T4)

begin(T7)
begin(T8)
begin(T9)
w(T7,x1,1); w(T8,x3,2); w(T9,x5,3)
r(T7,x3); r(T8,x1); r(T9,x3)
end(T9)
end(T7)

// T7 should commit
// T8 should be killed
// T9 should commit
// (T7 <=> T8 <= T9)